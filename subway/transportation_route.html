<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="../module/jquery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=PZ9tjqM7uljjKuuHZGe7CTq4IokgTXVw"></script>
    <script type="text/javascript">

        /**获取当前的位置**/
        var lng = '';
        var lat = '';
        var geolocation = new BMap.Geolocation();
        geolocation.getCurrentPosition(function(r) {
            if (this.getStatus() == BMAP_STATUS_SUCCESS) {
                var mk = new BMap.Marker(r.point);
                //alert('您的位置：'+r.point.lng+','+r.point.lat);
                var myGeo = new BMap.Geocoder();
                var map = new BMap.Map("container");
                map.centerAndZoom(new BMap.Point(r.point.lng,r.point.lat), 14);
                var transit = new BMap.TransitRoute(map, {
                    renderOptions: {map: map}
                });
                transit.search("王府井", "西单");
//                alert('您的位置：'+r.point.lng+','+r.point.lat);
               /* myGeo.getLocation(new BMap.Point(r.point.lng, r.point.lat),
                    function(rs) {
                        var addComp = rs.addressComponents;
                        alert(addComp.province + addComp.city
                            + addComp.district + addComp.street
                            + addComp.streetNumber);
                    });
*/
            } else {
                alert('failed' + this.getStatus());
            }
        });

        /*
        transit.search("王府井", "西单");*/
    </script>
</head>
<body>

</body>
</html>